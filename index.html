<!DOCTYPE html>
<html lang="ar">

<head>
    <meta charset="UTF-8">
    <title>Battle Royale - Pro Launcher</title>
    <link rel="stylesheet" href="css/style.css">
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;700&display=swap" rel="stylesheet">
</head>

<body>
    <div id="start-screen" class="overlay">
        <h1>BATTLE ROYALE</h1>
        <p>البقاء للأقوى - اختر خريطتك ووضع اللعب</p>
        <div style="display:flex; flex-direction:column; gap:10px; align-items:center;">
            <input type="text" id="player-name-input" class="name-input" placeholder="اكتب اسمك هنا..." maxlength="15">

            <div style="display:flex; gap:10px; margin-bottom: 10px;">
                <button id="mode-bots" class="mode-btn active" onclick="setMode('bots')">ضد البوتات</button>
                <button id="mode-online" class="mode-btn" onclick="setMode('online')">أونلاين (P2P)</button>
            </div>

            <select id="map-select" class="name-input" style="width:345px;">
                <option value="city">خريطة المدينة (city.html)</option>
                <option value="island">خريطة الجزيرة (island.html)</option>
                <option value="desert">خريطة الصحراء (desert.html)</option>
                <option value="night">خريطة الليل (night.html)</option>
            </select>
        </div>
        <button class="btn" style="margin-top: 20px;" onclick="startSelectedGame()">بداية المعركة</button>
        <div id="last-score" style="margin-top:20px; color:#f1c40f; font-weight:bold;"></div>
    </div>

    <script>
        let currentGameMode = 'bots';
        localStorage.setItem('gameMode', 'bots');

        function setMode(mode) {
            currentGameMode = mode;
            localStorage.setItem('gameMode', mode);
            document.querySelectorAll('.mode-btn').forEach(b => b.classList.remove('active'));
            document.getElementById('mode-' + mode).classList.add('active');
        }

        const lastKills = localStorage.getItem('lastKills');
        if (lastKills !== null) {
            document.getElementById('last-score').innerText = `آخر نتيجة: قتل ${lastKills} أعداء`;
        }

        function startSelectedGame() {
            const name = document.getElementById('player-name-input').value || 'لاعب';
            localStorage.setItem('playerName', name);
            const selectedMap = document.getElementById('map-select').value;
            window.location.href = selectedMap + ".html";
        }
    </script>
</body>

</html>